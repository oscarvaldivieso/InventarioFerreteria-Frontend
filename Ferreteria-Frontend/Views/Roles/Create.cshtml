@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model Ferreteria_Frontend.Models.RolViewModel
@{
    Context.Session.SetString("titulo", "Roles");
}



<div class="col-sm-12">
    <div class="card">
        <div card="card-body d-flex">
            <form id="crearRolForm" asp-action="Create" method="post" class="p-3">
                <div class="row">
                    <div class="form-group col-md-6">
                        <label asp-for="Role_Descripcion" class="control-label">
                            Nombre del rol</label>
                            <input asp-for="Role_Descripcion" placeholder="Ingresa un rol" class="form-control" />
                    </div>
                    <div class="form-group col-md-6 d-flex justify-content-end mt-3">
                        <button type="submit" class="btn btn-primary mx-2"><i class="icofont icofont-save"></i> Guardar</button>
                        <a asp-action="Index" class="btn btn-rounded btn-outline-primary btn-md mx-2"><i class="icofont icofont-close-circled"></i> Cancelar</a>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-12">
                        <div class="table-responsive">
                            <table class="table table-borderless my-5">
                                <thead>
                                <th>
                                    Acceso
                                </th>
                                <th>
                                    General
                                </th>
                                <th>
                                    Ferreteria
                                </th>
                                <th>
                                    Productos
                                </th>
                                <th>
                                    Compras
                                </th>
                                <th>
                                    Ventas
                                </th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Usuarios" class="me-2">Usuarios</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Usuarios" name="pantIds" value="1">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Departamentos" class="me-2">Departamentos</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Departamentos" name="pantIds" value="3">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Sucursales" class="me-2">Sucursales</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Sucursales" name="pantIds" value="9">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Productos" class="me-2">Productos</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Productos" name="pantIds" value="10">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Compras" class="me-2">Compras</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="pantIds2" name="Compras" value="14" >
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Ventas" class="me-2">Ventas</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Ventas" name="pantIds" value="16">
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Roles" class="me-2">Roles</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Roles" name="pantIds" value="2" >
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Municipios" class="me-2">Municipios</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Municipios" name="pantIds" value="4">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Empleados" class="me-2">Empleados</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Empleados" name="pantIds" value="7" >
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Categorias" class="me-2">Categorias</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Categorias" name="pantIds" value="11">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Proveedores" class="me-2">Proveedores</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Proveedores" name="pantIds" value="15">
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="EstadosCiviles" class="me-2">Estados Civiles</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="EstadosCiviles" name="pantIds" value="5" >
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Cargos" class="me-2">Cargos</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Cargos" name="pantIds" value="8">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Marcas" class="me-2">Marcas</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Marcas" name="pantIds" value="12">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                    </tr>
                                    <tr>
                                        <td>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Clientes" class="me-2">Clientes</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Clientes" name="pantIds" value="6">
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                        <td>
                                            <div class="d-flex align-items-between ">
                                                <label for="Medidas" class="me-2">Medidas</label>
                                                <div class="form-check form-switch m-0">
                                                    <input class="form-check-input" type="checkbox" id="Medidas" name="pantIds" value="13">
                                                </div>
                                            </div>
                                        </td>
                                        </td>
                                    </tr>
                                    <tr>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>
                <!--El gpt dis que si funciona pa guardar los id de las pantIdss en el servidor, como ni idea-->
                <input type="hidden" id="pantIdssSeleccionadasInput" asp-for="PantIds" name="pantIds[]" />
            </form>        
        </div>
    </div>
</div>
<script src="~/js/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $('#crearRolForm').submit(function () {
            var selectedpantIdss = [];
            $('input[name="pantIds"]:checked').each(function () {
                selectedpantIdss.push(parseInt($(this).val())); // Convertimos a entero
            });

            console.log("Seleccionados:", selectedpantIdss);

            // Asignamos los valores al input oculto
            $('#pantIdssSeleccionadasInput').val(selectedpantIdss.join(',')); // Convertimos el array a string separado por comas
        });
    });

</script>